# Dogfood Report v0.6.2

**Date:** 2025-12-10
**Version:** veil-v0.6.1 (dev)

## 1. Summary

| Repository    | Files Scanned | Findings | High/Critical | Status                    |
| :------------ | :------------ | :------- | :------------ | :------------------------ |
| **veil-rs**   | 100           | 35       | 30            | ⚠️ Findings (Test Data)    |
| **rec-watch** | 6             | 0        | 0             | ✅ Clean (Low file count?) |
| **veri-rs**   | 0             | 0        | 0             | ❓ Skipped (Path issue?)   |

## 2. Findings Analysis (`veil-rs`)

Most findings are **Intended Test Data** located in `tests/` and `benches/`.

### Breakdown by Rule
- **`creds.aws.access_key_id`** (High): Numerous hits in `tests/fixtures`, `tests/policy_test.rs`, `benchmarks`.
  - *Verdict*: **Safe**. These are dummy keys for testing detection.
- **`jp.mynumber`** (High): Hits in `tests/fixtures/mynumber.txt`.
  - *Verdict*: **Safe**. Test data.
- **`creds.github.pat`**: Hits in `tests/data/`.
  - *Verdict*: **Safe**.

### Production Code (`src/`)
- **0 Findings**. The codebase itself is clean.

## 3. Observations & Tuning

### Exit Code Policy
- Currently, `veil scan` exits with `1` if *any* findings are present (even test data), unless a config override is present.
- **Issue**: This makes running `veil scan` in CI on `veil-rs` itself fail, unless we exclude `tests/` or set a baseline.
- **Proposal**:
    1.  Add `.veilignore` to `veil-rs` to ignore `tests/data` and `tests/fixtures` from "production scan".
    2.  Or, rely on `--fail-on-findings` flag solely, and make default exit code 0? (User preference seems to lean this way).

### External Repos
- `rec-watch` and `veri-rs` scans were attempted via `../` path.
- `veri-rs` returned 0 files, suggesting the directory might not resolve correctly from the sandbox or is empty.
- `rec-watch` returned 6 files, which seems low.
- **Action**: Verify paths manually or run from within those repos in a real shell.

## 4. Next Steps (Session 10)
- **Rule Tuning**: No specific false positives in *code* found yet (good!).
- **Config**: Create a default `veil.toml` for `veil-rs` to ignore test fixtures?
- **CLI**: Fix default exit code to be `0` unless `--fail-on-findings` is passed?
